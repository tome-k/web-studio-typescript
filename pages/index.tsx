import React from 'react'
import type { NextPage } from 'next'
import {useState, useEffect} from 'react'
import Head from 'next/head'
import MagneticButton from '../components/MagneticButton'
import CursorFollower from '../components/CursorFollower'
import FollowCursor from '../components/FollowCursor'
import Script from 'next/script'
import Header from '../components/Header'

const color1 = '#000'
const color2 = '#eee'
  
const CursorFollowerInnerStyle = {
  fill: "var(--cursor-fill)",
  stroke: "var(--cursor-stroke)",
  strokeWidth: "var(--cursor-stroke-width)"
};
const Home: NextPage = () => {

  const [isDark, setDark] = useState(false)

  const [posX, setPosX] = useState(0)
  const [posY, setPosY] = useState(0)

  useEffect(() => {
    const setFromEvent = (e: { clientX: any; clientY: any }) => {
      setTimeout(() => {
        setPosX(e.clientX)
        setPosY(e.clientY)
      }, 100);
    }
    window.addEventListener("mousemove", setFromEvent);
    return () => {
      window.removeEventListener("mousemove", setFromEvent);
    };
  }, []);

  return (
    <div style={{backgroundColor:isDark?color1:color2, color:isDark?color2:color1}}>
      <Head>
        <title>Studio</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="w-[100vw] h-[100vh] px-16 py-11">
        
        {/* <canvas className="absolute rounded-full bg-gray-300 " 
          style={{top:posY-10, left:posX-10, opacity:1, width:20, height:20, zIndex:0, visibility:'inherit', backgroundColor:' #FF5C00'}}>          
        </canvas> */}
        <CursorFollower/>

        <Header/>
        
        <MagneticButton isDark={isDark} changeSetDark={setDark}/>
      </main>
      
      <Script src="./js/demo4.js"></Script>
      
    </div>
  )
}

export default Home